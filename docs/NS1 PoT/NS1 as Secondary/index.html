<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-NS1 PoT/NS1 as Secondary">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">NS1 as Secondary - Redundancy/Resiliency | IBM Software Networking Porfolio</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/software-networking-pot/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/software-networking-pot/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/software-networking-pot/docs/NS1 PoT/NS1 as Secondary"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="NS1 as Secondary - Redundancy/Resiliency | IBM Software Networking Porfolio"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/software-networking-pot/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/software-networking-pot/docs/NS1 PoT/NS1 as Secondary"><link data-rh="true" rel="alternate" href="https://github.com/software-networking-pot/docs/NS1 PoT/NS1 as Secondary" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/software-networking-pot/docs/NS1 PoT/NS1 as Secondary" hreflang="x-default"><link rel="stylesheet" href="/software-networking-pot/assets/css/styles.44bc8618.css">
<link rel="preload" href="/software-networking-pot/assets/js/runtime~main.c65966a5.js" as="script">
<link rel="preload" href="/software-networking-pot/assets/js/main.74e6b2fe.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/software-networking-pot/"><div class="navbar__logo"><img src="/software-networking-pot/images/ibm-watson-logo.png" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/software-networking-pot/images/ibm-watson-logo.png" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Software Networking Porfolio</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/software-networking-pot/docs/intro">Folders</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/software-networking-pot/docs/intro">Software Networking Porfolio</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/software-networking-pot/docs/category/sano-pot">SANO POT</a><button aria-label="Toggle the collapsible sidebar category &#x27;SANO POT&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/software-networking-pot/docs/category/ns1-pot">NS1 POT</a><button aria-label="Toggle the collapsible sidebar category &#x27;NS1 POT&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/software-networking-pot/docs/NS1 PoT/ns1 pot overview">NS1 POT Overview &amp; Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/software-networking-pot/docs/NS1 PoT/test account creation">Test Account Creation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/software-networking-pot/docs/NS1 PoT/failover">DNS Failover</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/software-networking-pot/docs/NS1 PoT/Geo-steering">Geographic Steering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/software-networking-pot/docs/NS1 PoT/instana">Instana - NS1 Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/software-networking-pot/docs/NS1 PoT/NS1 as Secondary">NS1 as Secondary - Redundancy/Resiliency</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/software-networking-pot/docs/NS1 PoT/SANO NS1 integration">Advanced Load Balancing - SANO integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/software-networking-pot/docs/NS1 PoT/HTTPS Redirect">HTTPS Redirect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/software-networking-pot/docs/NS1 PoT/RFP:RFI Rep">RFP/RFI Repo</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/software-networking-pot/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/software-networking-pot/docs/category/ns1-pot"><span itemprop="name">NS1 POT</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">NS1 as Secondary - Redundancy/Resiliency</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>NS1 as Secondary - Redundancy/Resiliency</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><p>This POT walkthrough will give you steps needed to setup a Primary-Secondary configuration, with  NS1 as Secondary to another DNS solution, allowing for redundancy and resiliency on the DNS layer. You can even &quot;hide&quot; the primary during this POT, by removing the existing NS Records at the domain registrar, allowing for a &quot;Hidden Primary&quot; setup, giving the customer the ability to continue configuring DNS on their Primary/Self-hosted solution, without exposing it to the public internet.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="story">Story<a href="#story" class="hash-link" aria-label="Direct link to Story" title="Direct link to Story">​</a></h2><p>During this POT, we want the customer to experience a real-world migration process, so always try to push for the customer to come prepared with a domain that is getting traffic. They will need access to the domain registrar also, during this process. This does not have to mean a full production domain but possibly an older marketing campaign domain, that still gets some traffic. This makes it easier to demonstrate the value of performance and redundancy gains against a real live domain, instead of a test/dummy domain. Also, this domain will already be delegated to another solution, which matches it to the same process the customer will have to go through for their live production domains. We will show how quick and simple it is to test this setup. This will also make NS1 more &quot;sticky&quot;, as the customer will have to go through the steps to remove NS1 and may wish to move forward with this setup for ease-of-use. You will also want to make sure the customer sets up the correct firewall rules on their Primary solution, to allow NS1 to XFR the zone file successfully. The following NS1 IP will need to be allowed:
192.135.223.10</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ns1-configuration">NS1 Configuration<a href="#ns1-configuration" class="hash-link" aria-label="Direct link to NS1 Configuration" title="Direct link to NS1 Configuration">​</a></h2><ol><li><p>Log into <a href="https://my.nsone.net/" target="_blank" rel="noopener noreferrer">https://my.nsone.net/</a> with your username and password</p></li><li><p>Navigate to the DNS&gt;Zones tab</p></li></ol><p><img loading="lazy" alt="IBM NS1" src="/software-networking-pot/assets/images/img1-3f505b5fcf5e2a171087b7304fa21e6f.png" width="3024" height="1713" class="img_ev3q"></p><ol start="3"><li><p>Click the + icon on the top right side</p><p>a. Domain name: anydomain.com (customer&#x27;s live domain here)</p><p>b. Make sure to check off &quot;Managed DNS Network&quot; and choose &quot;Secondary Zone&quot; under &quot;Zone Settings&quot;</p><p>c. At this stage, you must configure your primary DNS server(s) to allow AXFR queries from NS1. This can be done by finding out the public IP of the Primary XFR server. This will vary depending on the customer&#x27;s setup but there are links below for most of the cloud provider XFR IP&#x27;s and self-hosted guides on how to set this up, below
LINKS TBC</p><p>d. Make sure &quot;Managed DNS&quot; is picked from the dropdown, as shown below.</p><p>e. TSIG can be enabled and configured, if set on the Primary already and customer wants to test this feature.</p><p>f. Save Zone</p></li></ol><p><img loading="lazy" alt="IBM NS1" src="/software-networking-pot/assets/images/img2-0d489be2a0fafb6055b84d66dac5ed9b.png" width="1663" height="1530" class="img_ev3q"></p><ol start="4"><li>The zone should now be showing as a &quot;Secondary&quot; Zone in the Zone list</li></ol><p><img loading="lazy" alt="IBM NS1" src="/software-networking-pot/assets/images/img3-0dc0b332043a8c8f5f344c221a5d5d1a.png" width="1525" height="667" class="img_ev3q"></p><ol start="5"><li><p>Click into the newly added Zone</p><p>a. Depending on how quickly XFR takes to update and pull in the DNS config from the Primary, you may start to see some records start to populate. If not, don&#x27;t worry. You may have to wait a minute or two for it to refresh. While it&#x27;s refreshing, you can show off the &quot;ALIAS-as-Secondary&quot; feature, allowing customers to add an additional CNAME-@-the-Apex record. This is a great feature for customers currently doing this on the Primary but does not allow for transfer over XFR, due to RFC compliancy.</p><p>b. To check on the current status of the Zone Transfer, you can navigate to &quot;Zone Settings&quot; tab.</p><p>c. Under &quot;Secondary Zone Status&quot;, you will see the current status of the zone transfer. It may show &quot;ok&quot; if the zone has successfully updated or you may see an error. Usually these errors will relate to the firewall rules on either side not setup correctly or incorrect TSIG configuration.</p><p>d. You can also show how easy it is for the customer to force a refresh of the zone and also implement a &quot;break-glass&quot; scenario, by turning the zone to a primary. This will allow the customer to manage the zone as a &quot;primary&quot;, allowing for changes on NS1, while maintenance is performed on the Primary.</p></li></ol><p><img loading="lazy" alt="IBM NS1" src="/software-networking-pot/assets/images/img4-15429bdfbbfbb5faea1c133a0dbd4ddd.png" width="3024" height="1716" class="img_ev3q"></p><ol start="6"><li><p>Click to the &quot;Nameservers&quot; tab to get a view of the NS1 nameservers to apply at the domain&#x27;s registrar</p></li><li><p>Once the records have all pulled down and you get the &quot;ok&quot; zone refresh status, you can walk the customer through changing their domain registrar&#x27;s DNS Nameservers.</p></li></ol><p><img loading="lazy" alt="IBM NS1" src="/software-networking-pot/assets/images/img5-b277fd81296567bcca634bebfc6a3998.png" width="3024" height="1716" class="img_ev3q"></p><ol start="8"><li><p>The customer&#x27;s domain registrar portal will look different depending on their provider. It should look similar to something like below but only including the existing Primary solution NS&#x27;s</p><p>a. Edit the Nameservers</p><p>b. Add in the additional NS1 nameservers, noted in the &quot;Nameservers&quot; tab. It should look something similar to the below screenshot, via GoDaddy.</p></li></ol><p><img loading="lazy" alt="IBM NS1" src="/software-networking-pot/assets/images/img6-8b5ab266c13ef462204ad3a265378b1f.png" width="2936" height="1663" class="img_ev3q"></p><ol start="9"><li><p>Once added, NS1 will start to responding to any new DNS lookups where NS1 is performing better for the end client/resolver making the DNS lookup. If the customer wants to test a &quot;Hidden Primary&quot; setup, they can remove their existing solution&#x27;s NS&#x27;s from the domain registrar. This will mean the &quot;Primary&quot; configuration is where the changes are made but NS1 are listening as a publicly-facing &quot;Secondary&quot;.</p></li><li><p>To check if the delegation change has changed globally, you can run local &quot;dig&quot; commands, like below, or use a tool like diggui.com to check.</p></li><li><p>Customers can start to run reports, using NS1&#x27;s Data Set <a href="https://https://www.ibm.com/docs/en/ns1-connect?topic=data-sets-page" target="_blank" rel="noopener noreferrer">generator</a>, to run reports on queries and a number of other metrics for the newly delegated zones.</p></li></ol><p><img loading="lazy" alt="IBM NS1" src="/software-networking-pot/assets/images/img7-94d0d7f72a06208e7fe480e5b8b5f9aa.png" width="3024" height="1716" class="img_ev3q"></p><ol start="12"><li>Customers may also want to test how quickly a change propogates from the Primary configuration to the Secondary (NS1). You can go through this exercise with the customer by walking them changing a record at the Primary and watching how quickly it takes to change in the NS1 portal and then propogated out to the public internet, again using tools like &quot;diggui&quot; or local dig commands.</li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/software-networking-pot/docs/NS1 PoT/instana"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Instana - NS1 Integration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/software-networking-pot/docs/NS1 PoT/SANO NS1 integration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Advanced Load Balancing - SANO integration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#story" class="table-of-contents__link toc-highlight">Story</a></li><li><a href="#ns1-configuration" class="table-of-contents__link toc-highlight">NS1 Configuration</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/docs/en/sevone-npm/6.8" target="_blank" rel="noopener noreferrer" class="footer__link-item">SevOne NPM 6.8<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ibm.github.io/aiops-pot/" target="_blank" rel="noopener noreferrer" class="footer__link-item">AIOps Turbonomic and Instana PoT<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 IBM.</div></div></div></footer></div>
<script src="/software-networking-pot/assets/js/runtime~main.c65966a5.js"></script>
<script src="/software-networking-pot/assets/js/main.74e6b2fe.js"></script>
</body>
</html>