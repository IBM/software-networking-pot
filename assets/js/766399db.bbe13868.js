"use strict";(self.webpackChunksn_pot=self.webpackChunksn_pot||[]).push([[5699],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>u});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(n),k=i,u=m["".concat(s,".").concat(k)]||m[k]||d[k]||r;return n?a.createElement(u,o(o({ref:t},c),{},{components:n})):a.createElement(u,o({ref:t},c))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=k;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},61373:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var a=n(87462),i=(n(67294),n(3905));const r={sidebar_position:2},o="Self service AWS Instance",l={unversionedId:"IBM SevOne Automated Network Observability/RNA Labs/Cloud Automation/awsselfservice",id:"IBM SevOne Automated Network Observability/RNA Labs/Cloud Automation/awsselfservice",title:"Self service AWS Instance",description:"Overview",source:"@site/docs/IBM SevOne Automated Network Observability/RNA Labs/Cloud Automation/awsselfservice.md",sourceDirName:"IBM SevOne Automated Network Observability/RNA Labs/Cloud Automation",slug:"/IBM SevOne Automated Network Observability/RNA Labs/Cloud Automation/awsselfservice",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/Cloud Automation/awsselfservice",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Automate Subnet Creation",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/Cloud Automation/awssubnet"},next:{title:"Democratize Hybrid Cloud Automation",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/Cloud Automation/cloudselfservice"}},s={},p=[{value:"Overview",id:"overview",level:2},{value:"Prerequirements",id:"prerequirements",level:2},{value:"Create Automation",id:"create-automation",level:2},{value:"Review",id:"review",level:2}],c={toc:p},m="wrapper";function d(e){let{components:t,...r}=e;return(0,i.kt)(m,(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"self-service-aws-instance"},"Self service AWS Instance"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"In this lab we will review how we can create a workflow that creates EC2 instances in AWS, without the need of giving users access to our AWS platform"),(0,i.kt)("p",null,"The process of this RNA lab is the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Check which subnet the team asking to create the vm is assigned to")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Create instance based on settings provided"))),(0,i.kt)("h2",{id:"prerequirements"},"Prerequirements"),(0,i.kt)("p",null,"In order to complete this lab, it is required to have access to AWS, including free AWS accounts ",(0,i.kt)("a",{parentName:"p",href:"https://aws.amazon.com/free/"},"https://aws.amazon.com/free/")),(0,i.kt)("p",null,"To access the AWS API, we will require to create an access key and secret key ",(0,i.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/keyspaces/latest/devguide/access.credentials.html"},"https://docs.aws.amazon.com/keyspaces/latest/devguide/access.credentials.html")),(0,i.kt)("p",null,"This lab needs as a prerequirement the completion of the Automate Subnet Creation PoT lab finished and executed correctly."),(0,i.kt)("h2",{id:"create-automation"},"Create Automation"),(0,i.kt)("p",null,"If AWS authentication has already been created, please skip this block of actions and continue to step 4."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Log into RNA")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to Authentications")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click  Create Authentication"),(0,i.kt)("p",{parentName:"li"},"a. Name: AWS"),(0,i.kt)("p",{parentName:"li"},"b. Service: AWS"),(0,i.kt)("p",{parentName:"li"},"c. Access Key Id: ","[Copy Access Key from AWS]"),(0,i.kt)("p",{parentName:"li"},"d. Secret Access Key: ","[Copy Secret Access Key from AWS]"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(33318).Z,width:"1573",height:"723"})),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to ",(0,i.kt)("strong",{parentName:"p"},"Workflows"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click Create Workflow"),(0,i.kt)("p",{parentName:"li"},"a. Name: AWS Self Service Instance"),(0,i.kt)("p",{parentName:"li"},"b. Layout type: Sequence"))),(0,i.kt)("ol",{start:6},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add variables to Start"),(0,i.kt)("p",{parentName:"li"},"a. size"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. Name: size\n\nii. Type: Enum\n\niii. Click in the 'Expand' icon:\n")))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(37417).Z,width:"1451",height:"212"})),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'        {"type":"string","enum":["t2.micro","t3.micro"]}\n')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(91035).Z,width:"1536",height:"752"})),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'    iv. Default Value: "t2.micro"\n\n    v. In\n\n    vi. Required\n\nb. image\n\n    i. Name: region\n\n    ii. Type: Enum\n\n    iii. Click in the \'Expand\' icon:\n\n        {"type":"string","enum":["ami-00006bfaf3dd954f3","ami-00009114fa9ca2a86"]}\n\n    iv. Default Value: "ami-00009114fa9ca2a86"\n\n    v. In\n\n    vi. Required\n\n\nc. AWSCredentials\n\n    i. Name: AWSCredentials\n\n    ii. Type: Authentication -> AWS\n\n    iii. Default Value: "admin/AWS"\n\n    iv. In\n\n    v. Required\n\nd. region\n\n    i. Name: region\n\n    ii. Type: String\n\n    iii. Default Value: "us-east-1"\n\n    iv. In\n\n    v. Required\n\ne. team\n\n    i. Name: team\n\n    ii. Type: Enum\n\n    iii. Click in the \'Expand\' icon:\n\n        {"type":"string","enum":["Sales","Engineering"]}\n\n    iv. Default Value: "Engineering"\n\n    v. In\n\n    vi. Required\n')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(26343).Z,width:"1468",height:"460"})),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Change to Flow View")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the left hand side panel, Click on AWS -> EC2")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},'Select "DescribeVpcs" and drop it after the building block START'),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Check_VPCs"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $AWSCredentials\n\nii. region: $region\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> ForEach"),(0,i.kt)("p",{parentName:"li"},"a. Change name to ForEach_Subnet"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. list: $subnets\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Inside the LOOP, add a new building block, Common -> ForEach"),(0,i.kt)("p",{parentName:"li"},"a. Change name to ForEach_Tag"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. list: $ForEach_Subnet.item.Tags\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Inside the LOOP, add a new building block, Common -> If"),(0,i.kt)("p",{parentName:"li"},"a. Change name to If_Team_Tag"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. condition: $ForEach_Tag.item.Key == "Team"\n'))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Inside the TRUE branch, add a new building block, Common -> If"),(0,i.kt)("p",{parentName:"li"},"a. Change name to If_Same_Team"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. condition: $ForEach_Tag.item.Value == $team\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Inside the TRUE branch, add a new building block, AWS -> EC2 -> RunInstances"),(0,i.kt)("p",{parentName:"li"},"a. Change name to AWS_Create_Instance"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $AWSCredentials\n\nii. region: $region\n\niii. body: \n\n    1. ImageId: $image\n\n    2. InstanceType: $size\n\n    3. MaxCount: 1\n\n    4. MinCount: 1\n\n    5. SubnetId: $ForEach_Subnet.item.SubnetId\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> Assign"),(0,i.kt)("p",{parentName:"li"},"a. Change name to Assign_Result"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. variable: $result\n\nii. region: $AWS_Create_Instance.result\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"If there is any other Assign building block, disable/delete it"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(85526).Z,width:"1264",height:"690"}),"\t\t"),(0,i.kt)("h2",{id:"review"},"Review"),(0,i.kt)("ol",{start:17},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Run the workflow")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to the AWS portal, search for EC2 and go to the EC2 Dashboard")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In Instances (running) there should be 1"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(75908).Z,width:"1325",height:"385"}),"\t"),(0,i.kt)("ol",{start:20},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click in Instances (running)")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on the Instance Id of the only instance running")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Check the Instance type is t2.micro and AMI ID is ami-00009114fa9ca2a86"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(46429).Z,width:"1623",height:"859"}),"\t"),(0,i.kt)("ol",{start:23},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on the Subnet ID")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click again on the Subnet ID and click on Tags")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Verify that this instance is running on the Engineering subnet"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(18203).Z,width:"1623",height:"832"}),"\t"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Terminate the instance as soon as you have finished reviewing the lab so you don't get charged")))}d.isMDXComponent=!0},37417:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img1-f4b5e8b310b2328571075fac80f8d796.png"},91035:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img2-62cfde4807228e241334fea8ee125ad9.png"},26343:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img3-b9301964d28a09a5302c7b4cf81b59e1.png"},85526:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img4-6bf37532da25f9268b7ae206e03941c7.png"},75908:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img5-318285c871b87dbe1323d9f0d6261e20.png"},46429:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img6-6598008e363e5a2e49b2dafba3916b88.png"},18203:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img7-ce5f88f94626eab8715437188b91042e.png"},33318:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img1-f3c8079c5f960053f2ea452638ef26dc.png"}}]);