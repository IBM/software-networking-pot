"use strict";(self.webpackChunksn_pot=self.webpackChunksn_pot||[]).push([[182],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>u});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),d=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=d(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},s=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),c=d(n),s=i,u=c["".concat(p,".").concat(s)]||c[s]||k[s]||r;return n?a.createElement(u,o(o({ref:t},m),{},{components:n})):a.createElement(u,o({ref:t},m))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=s;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:i,o[1]=l;for(var d=2;d<r;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},9083:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>k,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var a=n(7462),i=(n(7294),n(3905));const r={sidebar_position:2},o="Custom Device Grouping",l={unversionedId:"IBM SevOne Automated Network Observability/RNA Labs/rna_grouping",id:"IBM SevOne Automated Network Observability/RNA Labs/rna_grouping",title:"Custom Device Grouping",description:"Overview",source:"@site/docs/IBM SevOne Automated Network Observability/RNA Labs/rna_grouping.md",sourceDirName:"IBM SevOne Automated Network Observability/RNA Labs",slug:"/IBM SevOne Automated Network Observability/RNA Labs/rna_grouping",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/rna_grouping",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Automate HFP",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/RNA_hfp"},next:{title:"Custom Object Grouping",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/rna_objectgrouping"}},p={},d=[{value:"Overview",id:"overview",level:2},{value:"Automatic Device Group Creation",id:"automatic-device-group-creation",level:2},{value:"Review",id:"review",level:2}],m={toc:d},c="wrapper";function k(e){let{components:t,...r}=e;return(0,i.kt)(c,(0,a.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"custom-device-grouping"},"Custom Device Grouping"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"In this lab we will review how we can create custom groups in SevOne using RNA."),(0,i.kt)("p",null,"In this lab we will cover the following scenarios:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Automatically create device groups for new locations that contain the devices of that location and create a rule to add all the devices of that location to that group")),(0,i.kt)("h2",{id:"automatic-device-group-creation"},"Automatic Device Group Creation"),(0,i.kt)("p",null,"If SevOne authentication has already been created, please skip this block of actions and continue to step 4."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Log into SANO automation platform")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to Authentications")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click  Create Authentication"),(0,i.kt)("p",{parentName:"li"},"a. Name: SevOne"),(0,i.kt)("p",{parentName:"li"},"b. Service: SevOne"),(0,i.kt)("p",{parentName:"li"},"c. ",(0,i.kt)("strong",{parentName:"p"},"Protocol: http://")," (<-- important)"),(0,i.kt)("p",{parentName:"li"},"d. Host: 10.0.0.10"),(0,i.kt)("p",{parentName:"li"},"e. Username: admin"),(0,i.kt)("p",{parentName:"li"},"f. Password: SevOne"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(3351).Z,width:"579",height:"758"})),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to ",(0,i.kt)("strong",{parentName:"p"},"Workflows"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click Create Workflow"),(0,i.kt)("p",{parentName:"li"},"a. Name: Device Group Creation"),(0,i.kt)("p",{parentName:"li"},"b. Layout type: Sequence"))),(0,i.kt)("ol",{start:6},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add variables to Start"),(0,i.kt)("p",{parentName:"li"},"a. NMSCredentials"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. Name: NMSCredentials\n\nii. Type: Authentication -> SevOne\n\niii. Default Value: "admin/SevOne"\n\niv. In\n\nv. Required\n')),(0,i.kt)("p",{parentName:"li"},"b. parentgroup"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. Name: parentgroup\n\nii. Type: String\n\niii. Default Value: "Locations"\n\niv. In\n\nv. Required\n')))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(467).Z,width:"993",height:"392"})),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Change to Flow View")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the left hand side panel, search for SevOne, Click on SevOne -> REST v3 -> Device Groups")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},'Select the "Device Groups Filter Device Groups" building block and drag and drop it after the Start '),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Find_Parent_Group"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n\nii. body\n\n    1. name: $parentgroup\n\n    2. parentIds: [ 2 ]\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> Array -> ArraySize"),(0,i.kt)("p",{parentName:"li"},"a. Change name to ArraySize_Parent_Group"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. array: $SevOne_Find_Parent_Group.result.content\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> If"),(0,i.kt)("p",{parentName:"li"},"a. Change name to If_Group_Found"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. condition: $ArraySize_Parent_Group.result > 0\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the TRUE branch of the IF, add a new building block, Common -> Assign"),(0,i.kt)("p",{parentName:"li"},"a. Change name to Assign_Group_ID"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. variable: $parentid\n\nii. value: $SevOne_Find_Parent_Group.result.content[0].id\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the FALSE branch of the IF, add a new building block, SevOne -> REST v3 -> Device Groups -> Device Groups Create Device Group"),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Create_Parent_Group"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n\nii. body:\n\n    1. name: $parentgroup\n\n    2. parentId: 2\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> Assign"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"a. Change name to Assign_Group_ID2\n\nb. Click on the building block to open the right side panel and complete the following fields\n\n    i. variable: $parentid\n\n    ii. value: $SevOne_Create_Parent_Group.result.id\n")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(9743).Z,width:"818",height:"756"})),(0,i.kt)("ol",{start:15},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Afther the end of the IF, add a new building block, SevOne -> REST v3 -> Metadata -> Metadata Devices (POST)"),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Devices"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> ForEach"),(0,i.kt)("p",{parentName:"li"},"a. Change name to ForEach_Device"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. list: SevOne_Devices.result.devices\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> String -> StringRegExMatch"),(0,i.kt)("p",{parentName:"li"},"a. Change name to Find_Structure"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. str: $ForEach_Device.item.name\n\nii. regex: "(^[A-Z]{3})-([A-Z])"\n')))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(4895).Z,width:"905",height:"682"}),"\t\t"),(0,i.kt)("ol",{start:18},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> Array -> ArraySize"),(0,i.kt)("p",{parentName:"li"},"a. Change name to ArraySize_Match"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. array: $Find_Structure.result\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> If"),(0,i.kt)("p",{parentName:"li"},"a. Change name to If_Structure_Found"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. condition: $ArraySize_Match.result > 0\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the TRUE branch of the IF, add a new building block, Common -> Assign"),(0,i.kt)("p",{parentName:"li"},"a. Change name to First_3_Letters"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. variable: $name\n\nii. value: $Find_Structure.result[0].match.slice(0, 3)\n")))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(6511).Z,width:"1343",height:"758"}),"\t"),(0,i.kt)("ol",{start:21},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, SevOne -> REST v3 -> Device Groups -> Device Groups Filter Device Groups"),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Find_Location_Group"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n\nii. body\n\n    1. name: $name\n\n    2. parentIds: [ $parentid ]\n    \n")))),(0,i.kt)("ol",{start:22},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> Array -> ArraySize"),(0,i.kt)("p",{parentName:"li"},"a. Change name to ArraySize_Location_Group"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. array: $SevOne_Find_Location_Group.result.content\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> If"),(0,i.kt)("p",{parentName:"li"},"a. Change name to If_Group_Found2"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. condition: $ArraySize_Location_Group.result > 0 \n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the TRUE branch of the IF, add a new building block, Common -> Assign"),(0,i.kt)("p",{parentName:"li"},"a. Change name to Assign_Location_ID"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. variable: $locationid\n\nii. value: $SevOne_Find_Location_Group.result.content[0].id\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the FALSE branch of the IF, add a new building block, SevOne -> REST v3 -> Device Groups -> Device Groups Create Device Group"),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Create_Location_Group"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n\nii. body:\n\n    1. name: $name\n\n    2. parentId: $parentid\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> Assign"),(0,i.kt)("p",{parentName:"li"},"a. Change name to Assign_Location_ID2"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. variable: $parentid\n\nii. value: $SevOne_Create_Location_Group.result.id\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, SevOne -> REST v3 -> Device Groups -> Device Groups Create Device Group Rule"),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Add_Rule"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n\nii. body:\n\n    1. groupId: $locationid\n\n    2. nameExpression: $name\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, SevOne -> REST v3 -> Device Groups -> Device Groups Create Device Group Rule"),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Add_Rule_Parent"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n\nii. body:\n\n    1. groupId: $parentid\n\n    2. nameExpression: $name\n")))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(1082).Z,width:"1478",height:"770"}),"\t"),(0,i.kt)("h2",{id:"review"},"Review"),(0,i.kt)("ol",{start:29},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Log into the NMS")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to Devices -> Grouping -> Device Groups")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Expand Locations and click on each of the groups to see data populated"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(8696).Z,width:"1132",height:"905"})))}k.isMDXComponent=!0},3351:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img1-ee5e510d0e0ff3ba9618fef58df14677.png"},467:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img1-3dfff3b64ea7c006c1a07d90dd5312e6.png"},9743:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img2-853618613d5a3e3a5173ed8c3e5f9f8e.png"},4895:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img3-8aa9be720a68d5ee0108ea3d298f36e1.png"},6511:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img4-4f1637eefc366c063c5e81c00c5e2a4f.png"},1082:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img6-19ed6c34fe172cf6ba7f06e99cea2087.png"},8696:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img7-63735543b60b38e7aad8494c0b13a16f.png"}}]);