"use strict";(self.webpackChunksn_pot=self.webpackChunksn_pot||[]).push([[210],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>u});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),d=p(a),k=r,u=d["".concat(s,".").concat(k)]||d[k]||c[k]||i;return a?n.createElement(u,o(o({ref:t},m),{},{components:a})):n.createElement(u,o({ref:t},m))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=k;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},2810:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const i={sidebar_position:7},o="Automate Automations",l={unversionedId:"IBM SevOne Automated Network Observability/RNA Labs/automate",id:"IBM SevOne Automated Network Observability/RNA Labs/automate",title:"Automate Automations",description:"Overview",source:"@site/docs/IBM SevOne Automated Network Observability/RNA Labs/automate.md",sourceDirName:"IBM SevOne Automated Network Observability/RNA Labs",slug:"/IBM SevOne Automated Network Observability/RNA Labs/automate",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/automate",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"CLI Monitoring",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/lab cli"},next:{title:"Predictive Alerting",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/predictive"}},s={},p=[{value:"Overview",id:"overview",level:2},{value:"Sync SevOne and RNA Users",id:"sync-sevone-and-rna-users",level:2},{value:"Create Scheduled Job",id:"create-scheduled-job",level:2}],m={toc:p},d="wrapper";function c(e){let{components:t,...i}=e;return(0,r.kt)(d,(0,n.Z)({},m,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"automate-automations"},"Automate Automations"),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"In this lab we will review how we can run a schedule job that will syncronize users between different tools."),(0,r.kt)("p",null,"Keep tools in sync is vital, however that requires executing lots of repetitive tasks. With Rapid Network Automation we can automate those tasks and run them either on demand or a specific frequency."),(0,r.kt)("p",null,"In this lab we are synchronizing the users that can access SevOne adn RNA (imagine the customer doesn't have a centralised RADIUS server and they create accounts manually). What we do in this lab is read the users in SevOne that are part of a role, check if those users exist in RNA, and if they don't, we create those users with the credentials that we have defined. We also create a job to execute this workflow every hour to make sure the users are always synchronized."),(0,r.kt)("p",null,"This ways we are sure the users are synchronized and we don't need to remember to sync them manually."),(0,r.kt)("h2",{id:"sync-sevone-and-rna-users"},"Sync SevOne and RNA Users"),(0,r.kt)("p",null,"If SevOne authentication has already been created, please skip this block of actions and continue to step 4."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Log into SANO automation platform")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Go to Authentications")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click  Create Authentication"),(0,r.kt)("p",{parentName:"li"},"a. Name: SevOne"),(0,r.kt)("p",{parentName:"li"},"b. Service: SevOne"),(0,r.kt)("p",{parentName:"li"},"c. ",(0,r.kt)("strong",{parentName:"p"},"Protocol: http://")," (<-- important)"),(0,r.kt)("p",{parentName:"li"},"d. Host: 10.0.0.10"),(0,r.kt)("p",{parentName:"li"},"e. Username: admin"),(0,r.kt)("p",{parentName:"li"},"f. Password: SevOne"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(71615).Z,width:"579",height:"758"})),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Go to Authentications")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click Create Authentication"),(0,r.kt)("p",{parentName:"li"},"a. Name: IRNA"),(0,r.kt)("p",{parentName:"li"},"b. Service: Pliant"),(0,r.kt)("p",{parentName:"li"},"c. Protocol: http://"),(0,r.kt)("p",{parentName:"li"},"d. Host: 10.0.0.12"),(0,r.kt)("p",{parentName:"li"},"e. Username: admin\t"),(0,r.kt)("p",{parentName:"li"},"f. Password: pl1anTAut0m8tion"))),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},"Go to ",(0,r.kt)("strong",{parentName:"li"},"Workflows"))),(0,r.kt)("ol",{start:7},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click Create Workflow"),(0,r.kt)("p",{parentName:"li"},"a. Name: Your Name - Sync SevOne IRNA Users"),(0,r.kt)("p",{parentName:"li"},"b. Layout type: Sequence"))),(0,r.kt)("ol",{start:8},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add variables to Start"),(0,r.kt)("p",{parentName:"li"},"a. NMSCredentials"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'i. Name: NMSCredentials\n\nii. Type: Authentication -> SevOne\n\niii. Default Value: "admin/SevOne"\n')),(0,r.kt)("p",{parentName:"li"},"b. IRNACredentials"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'i. Name: IRNACredentials\n\nii. Type: Authentication -> Pliant\n\niii. Default Value: "admin/IRNA"\n')),(0,r.kt)("p",{parentName:"li"},"c. SevOneRole"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'i. Name: SevOneRole\n\nii. Type: String\n\niii. Default Value: "Administrators"\n\niv. In\n\nv. Required\n')),(0,r.kt)("p",{parentName:"li"},"d. IRNARole"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'i. Name: IRNARole\n\nii. Type: String\n\niii. Default Value: "ADMIN"\n\niv. In\n\nv. Required\n')),(0,r.kt)("p",{parentName:"li"},"e. IRNAFlowRole"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'i. Name: IRNAFlowRole\n\nii. Type: String\n\niii. Default Value: "admin"\n\niv. In\n\nv. Required\n')))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(34444).Z,width:"961",height:"591"})),(0,r.kt)("ol",{start:9},(0,r.kt)("li",{parentName:"ol"},"Change to Flow View")),(0,r.kt)("ol",{start:10},(0,r.kt)("li",{parentName:"ol"},"On the left hand side panel, search for SevOne, Click on SevOne -> REST v2 -> Roles ")),(0,r.kt)("ol",{start:11},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Select Filter Roles and drop it after the building block START"),(0,r.kt)("p",{parentName:"li"},"a. Change name to SevOne_Find_Role"),(0,r.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n\nii. roleFilter -> name: $SevOneRole\n")))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(26380).Z,width:"444",height:"663"})),(0,r.kt)("ol",{start:12},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add a new building block, SevOne -> REST v3 -> Users -> Users Users (POST)"),(0,r.kt)("p",{parentName:"li"},"a. Change name to SevOne_List_Users"),(0,r.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n\nii. body -> roles -> ids: [ $SevOne_Find_Role.result.content[0].id ] \n")))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(20668).Z,width:"451",height:"493"})),(0,r.kt)("ol",{start:13},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add a new building block, Common -> ForEach"),(0,r.kt)("p",{parentName:"li"},"a. Change name to ForEach_SevOne_User"),(0,r.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"i. list: $SevOne_List_Users.result.users\n")))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(98675).Z,width:"1445",height:"490"})),(0,r.kt)("ol",{start:14},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Inside the ForEach, add a new building block, Common -> Assign"),(0,r.kt)("p",{parentName:"li"},"a. Change name to Initiliaze_variable"),(0,r.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"i. variable: $user_found\n\nii. value: false\n")))),(0,r.kt)("ol",{start:15},(0,r.kt)("li",{parentName:"ol"},"Add a new building block, Common -> Try")),(0,r.kt)("ol",{start:16},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Inside the Try, add a new building block, Pliant -> user-controller -> readUser"),(0,r.kt)("p",{parentName:"li"},"a. Change name to IRNA_Find_User"),(0,r.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"i. authKey: $IRNACredentials\n\nii. userName: $ForEach_SevOne_User.item.username\n")))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(37137).Z,width:"1273",height:"699"})),(0,r.kt)("ol",{start:17},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add a new building block, Common -> Assign"),(0,r.kt)("p",{parentName:"li"},"a. Change name to IRNA_User_Found"),(0,r.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"i. variable: $user_found\n\nii. value: true\n")))),(0,r.kt)("ol",{start:18},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"After the END of the TRY block, add a new building block, Common -> If"),(0,r.kt)("p",{parentName:"li"},"a. Change name to If_user_not_found"),(0,r.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"i. condition: $user_found == false\n")))),(0,r.kt)("ol",{start:19},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"On the TRUE branch of the IF, Add a new building block, Pliant -> user-controller -> createUser"),(0,r.kt)("p",{parentName:"li"},"a. Change name to IRNA_Create_User"),(0,r.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"i. authKey: $IRNACredentials\n\nii. userDto\n\n    1. active: true\n\n    2. firstName: $ForEach_SevOne_User.item.firstName\n\n    3. flowRoles: [ $IRNAFlowRole ] \n\n    4. lastName: $ForEach_SevOne_User.item.lastName\n\n    5. forcePasswordChange: true\n\n    6. password: $ForEach_SevOne_User.item.username\n\n    7. provider: LOCAL\n\n    8. roles: [ $IRNARole ]\n\n    9. userName: $ForEach_SevOne_User.item.username\n")))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(91805).Z,width:"1462",height:"758"})),(0,r.kt)("ol",{start:20},(0,r.kt)("li",{parentName:"ol"},"Delete any other building blocks after that block (There might be an ASSIGN block that can be removed)")),(0,r.kt)("ol",{start:21},(0,r.kt)("li",{parentName:"ol"},"Save Workflow")),(0,r.kt)("h2",{id:"create-scheduled-job"},"Create Scheduled Job"),(0,r.kt)("ol",{start:22},(0,r.kt)("li",{parentName:"ol"},"Go to JOBS")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(65894).Z,width:"1946",height:"130"})),(0,r.kt)("ol",{start:23},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click Create Job"),(0,r.kt)("p",{parentName:"li"},"a. Name: Sync SevOne IRNA users"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"i. Flow: Your Name - Sync SevOne IRNA Users\n\nii. Seconds: 0\n\niii. Minutes: 0\n\niv. Hours: *\n\nv. Day of Month: ?\n\nvi. Use Default Parameters: ENABLED\n\nvii. ENABLED\n")))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(22360).Z,width:"1875",height:"836"})))}c.isMDXComponent=!0},71615:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Img1-ee5e510d0e0ff3ba9618fef58df14677.png"},34444:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Img2-27d37de87a70c9331eb5fb43fda8b80d.png"},26380:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Img3-9500f2fc1641ed63466dd8b26592bf65.png"},20668:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Img4-5725cc015d92ca902601cac2bd9c6f94.png"},98675:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Img5-3ada646e33ffe6dd18e0af07a906fe7f.png"},37137:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Img6-46dd212e19776836027d7308f439bb6e.png"},91805:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Img7-913a5a338801808aecab680203a4b8a0.png"},65894:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Img8-00af386a5c01cc5b0370feaada250ceb.png"},22360:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Img9-2b1344134f80f8bf1395199910863e85.png"}}]);