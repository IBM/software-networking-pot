"use strict";(self.webpackChunksn_pot=self.webpackChunksn_pot||[]).push([[560],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>k});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),c=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},v=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=c(n),v=i,k=m["".concat(p,".").concat(v)]||m[v]||d[v]||r;return n?a.createElement(k,o(o({ref:t},s),{},{components:n})):a.createElement(k,o({ref:t},s))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=v;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[m]="string"==typeof e?e:i,o[1]=l;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}v.displayName="MDXCreateElement"},6405:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var a=n(7462),i=(n(7294),n(3905));const r={sidebar_position:1},o="Sync SevOne Devices with ServivceNow",l={unversionedId:"IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration/sevoneservicenow",id:"IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration/sevoneservicenow",title:"Sync SevOne Devices with ServivceNow",description:"Overview",source:"@site/docs/IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration/sevoneservicenow.md",sourceDirName:"IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration",slug:"/IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration/sevoneservicenow",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration/sevoneservicenow",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"CMDB Integration",permalink:"/software-networking-pot/docs/category/cmdb-integration"},next:{title:"NS1 POT",permalink:"/software-networking-pot/docs/category/ns1-pot"}},p={},c=[{value:"Overview",id:"overview",level:2},{value:"Prerequirements",id:"prerequirements",level:2},{value:"SevOne - ServiceNow device sync",id:"sevone---servicenow-device-sync",level:2},{value:"Review",id:"review",level:2}],s={toc:c},m="wrapper";function d(e){let{components:t,...r}=e;return(0,i.kt)(m,(0,a.Z)({},s,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"sync-sevone-devices-with-servivcenow"},"Sync SevOne Devices with ServivceNow"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"In this lab we will review how we can make sure that all the devices monitored in SevOne are included in ServiceNow, and they are not, add them in ServiceNow."),(0,i.kt)("p",null,"The flow of this lab is the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"We get the list of current devices in SevOne")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"For each of these devices, we will get the name and try to find if there a device with the same name in ServiceNow")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"If the device already exists in ServiceNow, no further actions will be taken")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"If the device is not found in ServiceNow, a new device will be added in ServiceNow with the name, ipaddress and description from SevOne"))),(0,i.kt)("p",null,"NOTE: there are different tables available in ServiceNow where we can store device details, the one chosen for this lab is the cmdb_ci_ip_device table, but it can be easily changed to another table (or multiple tables)."),(0,i.kt)("h2",{id:"prerequirements"},"Prerequirements"),(0,i.kt)("p",null,"In order to complete this lab, it is required to have access to a ServiceNow instance. If you don't have one already, please create one using following the steps defined on this ",(0,i.kt)("a",{parentName:"p",href:"https://developer.servicenow.com/dev.do#!/learn/learning-plans/utah/new_to_servicenow/app_store_learnv2_buildmyfirstapp_utah_personal_developer_instances"},"link"),"."),(0,i.kt)("p",null,"It's important to change your role to admin to be able to use the instance properly (see link ",(0,i.kt)("a",{parentName:"p",href:"https://www.servicenow.com/community/user/ssoregistrationpage?dest_url=https:%2F%2Fwww.servicenow.com%2Fcommunity%2Finstance-help-forum%2Fhow-to-get-out-of-app-engine-studio-and-go-back-to-the-main%2Fm-p%2F286367%2Fthread-id%2F23136"},"here")," )"),(0,i.kt)("h2",{id:"sevone---servicenow-device-sync"},"SevOne - ServiceNow device sync"),(0,i.kt)("p",null,"If SevOne authentication has already been created, please skip this block of actions and continue to step 5."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Log into SANO automation platform")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to Authentications")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click  Create Authentication"),(0,i.kt)("p",{parentName:"li"},"a. Name: SevOne"),(0,i.kt)("p",{parentName:"li"},"b. Service: SevOne"),(0,i.kt)("p",{parentName:"li"},"c. ",(0,i.kt)("strong",{parentName:"p"},"Protocol: http://")," (<-- important)"),(0,i.kt)("p",{parentName:"li"},"d. Host: 10.0.0.10"),(0,i.kt)("p",{parentName:"li"},"e. Username: admin"),(0,i.kt)("p",{parentName:"li"},"f. Password: SevOne"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(1059).Z,width:"579",height:"758"})),(0,i.kt)("p",null,"If ServiceNow authentication has already been created, please skip this block of actions and continue to step 5."),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click Create Authentication"),(0,i.kt)("p",{parentName:"li"},"a. Name: ServiceNow"),(0,i.kt)("p",{parentName:"li"},"b. Service: ServiceNow"),(0,i.kt)("p",{parentName:"li"},"c. Protocol: https://"),(0,i.kt)("p",{parentName:"li"},"d. Host: (Your SNOW instance URL, example: dev109667.service-now.com)"),(0,i.kt)("p",{parentName:"li"},"e. Username: (Your SNOW instance username, example: admin)"),(0,i.kt)("p",{parentName:"li"},"f. Password: (Your SNOW instance password)")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to ",(0,i.kt)("strong",{parentName:"p"},"Workflows"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click Create Workflow"),(0,i.kt)("p",{parentName:"li"},"a. Name: Sync SevOne Devices with ServiceNow"),(0,i.kt)("p",{parentName:"li"},"b. Layout type: Sequence"))),(0,i.kt)("ol",{start:6},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add variables to Start"),(0,i.kt)("p",{parentName:"li"},"a. NMSCredentials"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. Name: NMSCredentials\n\nii. Type: Authentication -> SevOne\n\niii. Default Value: "admin/SevOne"\n\niv. In\n\nv. Required\n')),(0,i.kt)("p",{parentName:"li"},"b. ServiceNowCredentials"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. Name: ServiceNowCredentials\n\nii. Type: Authentication -> ServiceNow\n\niii. Default Value: "admin/ServiceNow"\n\niv. In\n\nv. Required\n')),(0,i.kt)("p",{parentName:"li"},"c. table"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. Name: table\n\nii. Type: String\n\niii. Default Value: "cmdb_ci_ip_device"\n\niv. In\n\nv. Required\n')))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(8565).Z,width:"999",height:"387"})),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Change to Flow View")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the left hand side panel, Click on SevOne-> REST v3 -> Metadata")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},'Select "Metadata Devices (POST)" and drop it after the building block START'),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Get_Devices"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> ForEach"),(0,i.kt)("p",{parentName:"li"},"a. Change name to ForEach_Device"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. list: $SevOne_Get_Devices.result.devices\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Inside the 'LOOP' in the foreach, add a new building block, ServiceNow -> getTable"),(0,i.kt)("p",{parentName:"li"},"a. Change name to ServiceNow_Devices"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. authKey: $ServiceNowCredentials\n\nii. tableName: $table\n\niii. query: "name=" + $ForEach_Device.item.name\n')))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(9634).Z,width:"1283",height:"484"})),(0,i.kt)("ol",{start:12},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> If"),(0,i.kt)("p",{parentName:"li"},"a. Change name to If_Not_Found"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. condition: $ServiceNow_Devices.result.result.length == 0\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In the 'TRUE' branch of the IF, add a new building block, ServiceNow -> createTable"),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Create_Device"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. authKey: $ServiceNowCredentials\n\nii. tableName: $table\n\niii. Table: click on the \'pencil\' icon to open a new window and past the following content\n\n        {\n            "name": $ForEach_Device.item.name,\n            "ip_address": $ForEach_Device.item.ip,\n            "short_description": $ForEach_Device.item.description\n        }\n\niv. content_type: "application_json"\n')))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(8225).Z,width:"1302",height:"706"})),(0,i.kt)("p",null,"NOTE: you can delete the last 'Assign' building block that was part of the original workflow. It is ok if you want to leave it there too."),(0,i.kt)("h2",{id:"review"},"Review"),(0,i.kt)("ol",{start:14},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"To test the workflow, click on Run (it will take around 1 minute to complete)")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to your ServiceNow instance"),(0,i.kt)("p",{parentName:"li"},"i. Click on All"),(0,i.kt)("p",{parentName:"li"},"ii. Search for CMDB"),(0,i.kt)("p",{parentName:"li"},"iii. Click on CMDB workspace (inside the CMDB workspace group)"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(9170).Z,width:"441",height:"344"})),(0,i.kt)("ol",{start:16},(0,i.kt)("li",{parentName:"ol"},"Scroll down where CI overview is, and click on the 'Devices' column")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(5165).Z,width:"1360",height:"431"})),(0,i.kt)("ol",{start:17},(0,i.kt)("li",{parentName:"ol"},"Click on IP Device, and you should see a list with the devices that are in SevOne")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(4388).Z,width:"1426",height:"952"})))}d.isMDXComponent=!0},1059:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img1-ee5e510d0e0ff3ba9618fef58df14677.png"},8565:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/img1-021f701996adcbb48219b755bc4cb3f8.png"},9634:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/img2-4490d7c57311827755f455590a515904.png"},8225:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/img3-043238ed5adcd14f52b572b06de6a42f.png"},9170:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/img4-f80a1986a624aeb9479c3bce55d4440b.png"},5165:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/img5-e48008194990cc48c283cd13c11592a6.png"},4388:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/img6-a9f1c87676c50cc9052f119e53a52f3f.png"}}]);