"use strict";(self.webpackChunksn_pot=self.webpackChunksn_pot||[]).push([[9231],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>v});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var p=n.createContext({}),c=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},s=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=c(a),k=i,v=m["".concat(p,".").concat(k)]||m[k]||d[k]||r;return a?n.createElement(v,o(o({ref:t},s),{},{components:a})):n.createElement(v,o({ref:t},s))}));function v(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=k;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[m]="string"==typeof e?e:i,o[1]=l;for(var c=2;c<r;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},51642:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var n=a(87462),i=(a(67294),a(3905));const r={sidebar_position:3},o="Integrate ServiceNow CI properties into SevOne",l={unversionedId:"IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration/metadatasevone",id:"IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration/metadatasevone",title:"Integrate ServiceNow CI properties into SevOne",description:"Overview",source:"@site/docs/IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration/metadatasevone.md",sourceDirName:"IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration",slug:"/IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration/metadatasevone",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration/metadatasevone",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Sync ServiceNow CIs with SevOne",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration/servicenowsevone"},next:{title:"Integrate SevOne Metadata into ServiceNow attributes",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/RNA Labs/CMDB Integration/attributesnow"}},p={},c=[{value:"Overview",id:"overview",level:2},{value:"Prerequirements",id:"prerequirements",level:2},{value:"ServiceNow - SevOne metadata sync",id:"servicenow---sevone-metadata-sync",level:2},{value:"Review",id:"review",level:2}],s={toc:c},m="wrapper";function d(e){let{components:t,...r}=e;return(0,i.kt)(m,(0,n.Z)({},s,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"integrate-servicenow-ci-properties-into-sevone"},"Integrate ServiceNow CI properties into SevOne"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"In this lab we will review how we can copy the attributes available in ServiceNow into SevOne metadata."),(0,i.kt)("p",null,"The flow of this lab is the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"We get the list of current CIs in a table in ServiceNow")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"For each of the CIs on ServiceNow, we will check if that CI exists in SevOne")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"If the device exists, we will get the list of all the properties available in the CI")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"For each of the properties we will check if they are a single value property or a 'link' property (ServiceNow has two types of properties)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Depending on the type of property, we will push the data into SevOne using the appropiate metadata attribute type (text or URL)"))),(0,i.kt)("h2",{id:"prerequirements"},"Prerequirements"),(0,i.kt)("p",null,"In order to complete this lab, it is required to have access to a ServiceNow instance. If you don't have one already, please create one using following the steps defined on this ",(0,i.kt)("a",{parentName:"p",href:"https://developer.servicenow.com/dev.do#!/learn/learning-plans/utah/new_to_servicenow/app_store_learnv2_buildmyfirstapp_utah_personal_developer_instances"},"link"),"."),(0,i.kt)("p",null,"It's important to change your role to admin to be able to use the instance properly (see link ",(0,i.kt)("a",{parentName:"p",href:"https://www.servicenow.com/community/user/ssoregistrationpage?dest_url=https:%2F%2Fwww.servicenow.com%2Fcommunity%2Finstance-help-forum%2Fhow-to-get-out-of-app-engine-studio-and-go-back-to-the-main%2Fm-p%2F286367%2Fthread-id%2F23136"},"here")," )"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"We strongly recommend doing the 'Sync Sevone Devices with ServiceNow' lab first to have the same devices in both platforms")),(0,i.kt)("h2",{id:"servicenow---sevone-metadata-sync"},"ServiceNow - SevOne metadata sync"),(0,i.kt)("p",null,"If SevOne authentication has already been created, please skip this block of actions and continue to step 4."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Log into SANO automation platform")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to Authentications")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click  Create Authentication"),(0,i.kt)("p",{parentName:"li"},"a. Name: SevOne"),(0,i.kt)("p",{parentName:"li"},"b. Service: SevOne"),(0,i.kt)("p",{parentName:"li"},"c. ",(0,i.kt)("strong",{parentName:"p"},"Protocol: http://")," (<-- important)"),(0,i.kt)("p",{parentName:"li"},"d. Host: 10.0.0.10"),(0,i.kt)("p",{parentName:"li"},"e. Username: admin"),(0,i.kt)("p",{parentName:"li"},"f. Password: SevOne"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(65799).Z,width:"579",height:"758"})),(0,i.kt)("p",null,"If ServiceNow authentication has already been created, please skip this block of actions and continue to step 5."),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click Create Authentication"),(0,i.kt)("p",{parentName:"li"},"a. Name: ServiceNow"),(0,i.kt)("p",{parentName:"li"},"b. Service: ServiceNow"),(0,i.kt)("p",{parentName:"li"},"c. Protocol: https://"),(0,i.kt)("p",{parentName:"li"},"d. Host: (Your SNOW instance URL, example: dev109667.service-now.com)"),(0,i.kt)("p",{parentName:"li"},"e. Username: (Your SNOW instance username, example: admin)"),(0,i.kt)("p",{parentName:"li"},"f. Password: (Your SNOW instance password)")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to ",(0,i.kt)("strong",{parentName:"p"},"Workflows"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click Create Workflow"),(0,i.kt)("p",{parentName:"li"},"a. Name: Sync ServiceNOW properties with SevOne metadata"),(0,i.kt)("p",{parentName:"li"},"b. Layout type: Sequence"))),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add variables to Start"),(0,i.kt)("p",{parentName:"li"},"a. NMSCredentials"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. Name: NMSCredentials\n\nii. Type: Authentication -> SevOne\n\niii. Default Value: "admin/SevOne"\n\niv. In\n\nv. Required\n')),(0,i.kt)("p",{parentName:"li"},"b. ServiceNowCredentials"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. Name: ServiceNowCredentials\n\nii. Type: Authentication -> ServiceNow\n\niii. Default Value: "admin/ServiceNow"\n\niv. In\n\nv. Required\n')),(0,i.kt)("p",{parentName:"li"},"c. namespace"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. Name: namespace\n\nii. Type: string\n\niii. Default Value: "ServiceNow"\n\niv. In\n\nv. Required\n')))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(20594).Z,width:"1451",height:"564"})),(0,i.kt)("ol",{start:8},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Change to Flow View")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the left hand side panel, Click on ServiceNow")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},'Select "getTable" and drop it after the building block START'),(0,i.kt)("p",{parentName:"li"},"a. Change name to ServiceNow_Get_CIs"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. authKey: $ServiceNowCredentials\n\nii. tableName: "cmdb_ci_ip_device"\n'))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> ForEach"),(0,i.kt)("p",{parentName:"li"},"a. Change name to ForEach_CI"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. list: $ServiceNow_Get_CIs.result.result\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Inside the LOOP, add a new building block, SevOne -> REST v3 -> Metadata Devices (POST)"),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Find_Device"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n\nii. body -> name -> value: $ForEach_CI.item.name\n")))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(11110).Z,width:"1410",height:"481"})),(0,i.kt)("ol",{start:13},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> If"),(0,i.kt)("p",{parentName:"li"},"a. Change name to If_Device_Found"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. condition: $SevOne_Find_Device.result.devices.length > 0\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In the 'TRUE' branch of the If, add a new building block, Common -> Object -> Object Keys"),(0,i.kt)("p",{parentName:"li"},"a. Change name to Properties"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. Object: OneOf -> Object\n\n    1. Click Ok\n\n    2. Click on the pencil icon\n\n    3. Type $ForEach_CI.item\n")))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(10652).Z,width:"1226",height:"372"})),(0,i.kt)("ol",{start:15},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> ForEach"),(0,i.kt)("p",{parentName:"li"},"a. Change name to  ForEach_Property"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. list: $Properties.result\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Inside the LOOP, add a new building block, Common -> Validation -> Is Object"),(0,i.kt)("p",{parentName:"li"},"a. Change name to IsObject"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. item: $ForEach_CI.item[$ForEach_Property.item]\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new building block, Common -> If"),(0,i.kt)("p",{parentName:"li"},"a. Change name to If_Obkect"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. condition: $IsObject.result\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In the 'TRUE' branch of the If, add a new building block, SevOne -> REST v3 -> Metadata Admin -> Metadata Admin Patch Device Metadata"),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Update_Metadata_Object"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. authKey: $NMSCredentials\n\nii. body:\n\n    1. attribute: $ForEach_Property.item\n\n    2. deviceId: $SevOne_Find_Device.result.devices[0].id\n\n    3. namespace: $namespace\n\n    4. url -> values: [{"label": $ForEach_CI.item[$ForEach_Property.item].value,"url": $ForEach_CI.item[$ForEach_Property.item].link }] \n'))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In the 'FALSE' branch of the If, add a new building block, SevOne -> REST v3 -> Metadata Admin -> Metadata Admin Patch Device Metadata"),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Update_Metadata"),(0,i.kt)("p",{parentName:"li"},"b. Click on the building block to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n\nii. body:\n\n    1. attribute: $ForEach_Property.item\n\n    2. deviceId: $SevOne_Find_Device.result.devices[0].id\n\n    3. namespace: $namespace\n\n    4. text -> [$ForEach_CI.item[$ForEach_Property.item]]\n")))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(55709).Z,width:"1479",height:"680"})),(0,i.kt)("h2",{id:"review"},"Review"),(0,i.kt)("ol",{start:20},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"To test the workflow, click on Run ")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to SevOne (vPAS)")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to any of the devices listed, for example CHI-AP01 and click on the 'Metadata' icon"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(48001).Z,width:"1537",height:"198"})),(0,i.kt)("ol",{start:23},(0,i.kt)("li",{parentName:"ol"},"Scroll down until you see 'ServiceNow', there you will see all the properties from ServiceNow copied into SevOne metadata")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(36769).Z,width:"1456",height:"739"})))}d.isMDXComponent=!0},65799:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Img1-ee5e510d0e0ff3ba9618fef58df14677.png"},20594:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/img1-e84c7029b3806da9ebd01a9beaf9c807.png"},11110:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/img2-3c733aaa155a954d656969906602bedd.png"},10652:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/img3-f8ae0485925329562c76cfd555cb1244.png"},55709:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/img4-ac8cc4a8ff037b20ac21844f32978836.png"},48001:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/img5-caa798327acde8b586340eb4f2c49bb3.png"},36769:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/img6-0d963599e7b49daf893cd474a319c13c.png"}}]);