"use strict";(self.webpackChunksn_pot=self.webpackChunksn_pot||[]).push([[5577],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>u});var i=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=i.createContext({}),s=function(e){var t=i.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=s(e.components);return i.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},k=i.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,p=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),c=s(a),k=n,u=c["".concat(p,".").concat(k)]||c[k]||d[k]||r;return a?i.createElement(u,o(o({ref:t},m),{},{components:a})):i.createElement(u,o({ref:t},m))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=k;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:n,o[1]=l;for(var s=2;s<r;s++)o[s]=a[s];return i.createElement.apply(null,o)}return i.createElement.apply(null,a)}k.displayName="MDXCreateElement"},18929:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var i=a(87462),n=(a(67294),a(3905));const r={sidebar_position:8},o="Asymmetric Routing",l={unversionedId:"IBM SevOne Automated Network Observability/Advanced SevOne Labs/asymmetricrouting",id:"IBM SevOne Automated Network Observability/Advanced SevOne Labs/asymmetricrouting",title:"Asymmetric Routing",description:"In this lab we will learn how we can configure SevOne to troubleshoot asymmetric routing issues.",source:"@site/docs/IBM SevOne Automated Network Observability/Advanced SevOne Labs/asymmetricrouting.md",sourceDirName:"IBM SevOne Automated Network Observability/Advanced SevOne Labs",slug:"/IBM SevOne Automated Network Observability/Advanced SevOne Labs/asymmetricrouting",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/Advanced SevOne Labs/asymmetricrouting",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"API",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/Advanced SevOne Labs/api"},next:{title:"RNA Labs",permalink:"/software-networking-pot/docs/category/rna-labs"}},p={},s=[{value:"Troubleshoot Asymmetric Routing",id:"troubleshoot-asymmetric-routing",level:2}],m={toc:s},c="wrapper";function d(e){let{components:t,...r}=e;return(0,n.kt)(c,(0,i.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"asymmetric-routing"},"Asymmetric Routing"),(0,n.kt)("p",null,"In this lab we will learn how we can configure SevOne to troubleshoot asymmetric routing issues."),(0,n.kt)("p",null,"One of the common issues when running newer and more complex technologies such as SDN, VxLAN, MPBGP, SDWAN, Cloud and others is the lose of control in features such as routing. Asymmetric routing occurs when the path from A to B is different than the path followed from B to A, and this can generate issues for several reasons:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Cost associated with different paths")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Firewalls need to be aware of the bidirectional communication")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Link congestion"))),(0,n.kt)("p",null,"We can configure SevOne to monitor how the traffic flows through the network and identify potential asymmetric routing situations. Mainly NetFlow will be used to collect 'next-hop' data and identify the path following by the traffic."),(0,n.kt)("h1",{id:"flow-views"},"Flow Views"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Login into your NMS")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Go to Administration -> Flow Configuration -> FlowFalcon View Editor")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click on Add "),(0,n.kt)("p",{parentName:"li"},"a. View Name: Asymmetric Routing"),(0,n.kt)("p",{parentName:"li"},"b. Category: Network Reports"),(0,n.kt)("p",{parentName:"li"},"c. Aggregated Data: Disabled"),(0,n.kt)("p",{parentName:"li"},"d. Enabled: Enabled"),(0,n.kt)("p",{parentName:"li"},"d. Flow Fields:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"i. Source IP (8)\n\nii. Destination IP (12)\n\niii. Next Hop PI (15)\n\niv. Bandwidth (1)\n")),(0,n.kt)("p",{parentName:"li"},"e. Click Save"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(67782).Z,width:"1477",height:"821"})),(0,n.kt)("ol",{start:4},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click on Add "),(0,n.kt)("p",{parentName:"li"},"a. View Name: Asymmetric Routing with protocol"),(0,n.kt)("p",{parentName:"li"},"b. Category: Network Reports"),(0,n.kt)("p",{parentName:"li"},"c. Aggregated Data: Disabled"),(0,n.kt)("p",{parentName:"li"},"d. Enabled: Enabled"),(0,n.kt)("p",{parentName:"li"},"d. Flow Fields:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"i. Source IP (8)\n\nii. Destination IP (12)\n\niii. Next Hop PI (15)\n\niv. Protocol (4)\n\niv. Bandwidth (1)\n")),(0,n.kt)("p",{parentName:"li"},"e. Click Save")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click on Add "),(0,n.kt)("p",{parentName:"li"},"a. View Name: Asymmetric Routing with app"),(0,n.kt)("p",{parentName:"li"},"b. Category: Network Reports"),(0,n.kt)("p",{parentName:"li"},"c. Aggregated Data: Disabled"),(0,n.kt)("p",{parentName:"li"},"d. Enabled: Enabled"),(0,n.kt)("p",{parentName:"li"},"d. Flow Fields:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"i. Source IP (8)\n\nii. Destination IP (12)\n\niii. Next Hop PI (15)\n\niv. Destination Port (11)\n\niv. Bandwidth (1)\n")),(0,n.kt)("p",{parentName:"li"},"e. Click Save"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(23119).Z,width:"1462",height:"822"})),(0,n.kt)("ol",{start:6},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Go to DI and create a new report"),(0,n.kt)("p",{parentName:"li"},"a. Add widget -> Flow"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"i. Resource Type: Flow Source -> All devices\n\nii. Resource Type: Flow Interface -> All interfaces\n\niii. Direction: All directions\n")),(0,n.kt)("p",{parentName:"li"},"b. Views: "),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"i. Display Aggregated Views: disabled\n\nii. Flow view: Asymmetric Routing\n")),(0,n.kt)("p",{parentName:"li"},"c. Result limit: 50"),(0,n.kt)("p",{parentName:"li"},"d. Click 'Add to resources'"),(0,n.kt)("p",{parentName:"li"},"e. Click 'Run'"),(0,n.kt)("p",{parentName:"li"},"f. Go to Charts section within the widget"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"i. Visualizations: Sankey\n")))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(40419).Z,width:"1716",height:"807"})),(0,n.kt)("ol",{start:7},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Edit the widget again and go to Filters"),(0,n.kt)("p",{parentName:"li"},"a. Filter name: 172.24.147.112 to 172.24.147.115"),(0,n.kt)("p",{parentName:"li"},"b. Combination: AND"),(0,n.kt)("p",{parentName:"li"},"c. Attribute 1:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"i. Source IP is Equal to 172.24.147.112\n")),(0,n.kt)("p",{parentName:"li"},"d. Click 'Add Atribute'"),(0,n.kt)("p",{parentName:"li"},"e. Attribute 2:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"i. Destination IP is Equal to 172.24.147.115\n")),(0,n.kt)("p",{parentName:"li"},"f. Click 'Create'")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Add another filter"),(0,n.kt)("p",{parentName:"li"},"a. Filter name: 172.24.147.112 to 172.24.147.115 bidirectional"),(0,n.kt)("p",{parentName:"li"},"b. Combination: AND"),(0,n.kt)("p",{parentName:"li"},"c. Attribute 1:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"i. Source IP is Equal to 172.24.147.112\n\nii. Click on the + icon next to 172.24.147.112 and add 172.24.147.115\n")),(0,n.kt)("p",{parentName:"li"},"d. Click 'Add Atribute'"),(0,n.kt)("p",{parentName:"li"},"e. Attribute 2:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"i. Destination IP is Equal to 172.24.147.115\n\nii. Click on the + icon next to 172.24.147.115 and add 172.24.147.112\n")),(0,n.kt)("p",{parentName:"li"},"f. Click 'Create'"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(73284).Z,width:"341",height:"872"})),(0,n.kt)("ol",{start:9},(0,n.kt)("li",{parentName:"ol"},"On the Flow widget, click on the + symbol to use report chaining and click Flow")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(8394).Z,width:"1704",height:"239"})),(0,n.kt)("ol",{start:10},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"On the new Flow widget added, click edit:"),(0,n.kt)("p",{parentName:"li"},"a. Display Aggregated Views: Disabled"),(0,n.kt)("p",{parentName:"li"},"b. Flow View: Asymmetric Routing with protocol"),(0,n.kt)("p",{parentName:"li"},"c. Click 'Run'"),(0,n.kt)("p",{parentName:"li"},"d. Go to Charts"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"i. Visualization: Pie\n\nii. Enable legend\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Edit the size of the widget to around a third of the available width")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"On the first Flow widget, click on the + symbol to use report chaining and click Flow")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"On the new Flow widget added, click edit:"),(0,n.kt)("p",{parentName:"li"},"a. Display Aggregated Views: Disabled"),(0,n.kt)("p",{parentName:"li"},"b. Flow View: Asymmetric Routing with app"),(0,n.kt)("p",{parentName:"li"},"c. Click 'Run'"),(0,n.kt)("p",{parentName:"li"},"d. Go to Charts"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"i. Visualization: Bar\n\nii. Enable legend\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Edit the size of the widget to fit next to the second widget created"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(63818).Z,width:"1755",height:"887"})),(0,n.kt)("ol",{start:15},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Change Report name to Asymmetric Routing")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Change Section name to Flow")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Change first widget name to Next Hop")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"On the left hand side of the Next Hop widget, under Dimensions, move Next Hop IP in the middle. The order should be:"),(0,n.kt)("p",{parentName:"li"},"a. Source IP"),(0,n.kt)("p",{parentName:"li"},"b. Next Hop IP"),(0,n.kt)("p",{parentName:"li"},"c. Destination IP")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Change second widget name to Protocol")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Change third widget name to Application")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click 'Save' and 'Save' again"))),(0,n.kt)("h2",{id:"troubleshoot-asymmetric-routing"},"Troubleshoot Asymmetric Routing"),(0,n.kt)("ol",{start:22},(0,n.kt)("li",{parentName:"ol"},"On the Next Hop widget, enable the 172.24.147.112 to 172.24.147.115 filter")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(10319).Z,width:"1732",height:"911"})),(0,n.kt)("ol",{start:23},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"This widget is showing us that the traffic from 172.24.147.112 to 172.24.147.115 is using three different next hops (172.24.147.3, 172.24.147.5, 172.24.147.6). On widgets Protocol and Applications we can see the protocols and applications used on the traffic between those two endpoints.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click on Next Hop 172.24.147.5 and wait until Protocol and Application widget are updated. This action will show which protocol and applications are running through the 172.24.147.5 next hop."))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(51157).Z,width:"1713",height:"916"})),(0,n.kt)("ol",{start:25},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Go back to the Next Hop widget, remove the filter and select filter 172.24.147.112 to 172.24.147.115 bidirectional.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"This widget now shows that communication between 172.24.147.112 to 172.24.147.115 uses three next hops, but the communication between 172.24.147.115 to 172.24.147.112 only uses one, highlighting the fact that there is asymmetric routing. "))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(44010).Z,width:"1721",height:"921"})),(0,n.kt)("ol",{start:27},(0,n.kt)("li",{parentName:"ol"},"Remove the filter and select again filter 172.24.147.112 to 172.24.147.115, click on next hops 172.24.147.6 and 172.24.147.3 (these are the next hops not used by communication between 172.24.147.115 to 172.24.147.112) to identify which applications are not routed properly.")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:a(57464).Z,width:"1713",height:"927"})))}d.isMDXComponent=!0},67782:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/Img1-62043acf857444dce0291bf01a342e3d.png"},57464:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/Img10-6c5bb458b108cdacb808f6a119c682db.png"},23119:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/Img2-06c2ed539208a969e953e98b77650bc4.png"},40419:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/Img3-5d7c7d75f097622ec2976cb70ed29530.png"},73284:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/Img4-0176537e2ad6b80d08b41a34f7972dcc.png"},8394:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/Img5-7bf238c79ed996f167a2e3778964dc86.png"},63818:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/Img6-98766e69424bb4eae7ffc7c794ef48df.png"},10319:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/Img7-84febdaae52881f9f94ebd103b3d2827.png"},51157:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/Img8-9b2b86e11b6a26ece2469fbc5b3775d5.png"},44010:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/Img9-e552fd47bdccdf5f78e6bc0b4f49b318.png"}}]);