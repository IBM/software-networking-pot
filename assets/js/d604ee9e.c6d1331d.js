"use strict";(self.webpackChunksn_pot=self.webpackChunksn_pot||[]).push([[528],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>u});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),m=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=m(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),c=m(n),d=i,u=c["".concat(p,".").concat(d)]||c[d]||k[d]||r;return n?a.createElement(u,l(l({ref:t},s),{},{components:n})):a.createElement(u,l({ref:t},s))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=d;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[c]="string"==typeof e?e:i,l[1]=o;for(var m=2;m<r;m++)l[m]=n[m];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8847:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>k,frontMatter:()=>r,metadata:()=>o,toc:()=>m});var a=n(7462),i=(n(7294),n(3905));const r={sidebar_position:15},l="Predictive Alerting",o={unversionedId:"IBM SevOne Automated Network Observability/predictive",id:"IBM SevOne Automated Network Observability/predictive",title:"Predictive Alerting",description:"Overview",source:"@site/docs/IBM SevOne Automated Network Observability/predictive.md",sourceDirName:"IBM SevOne Automated Network Observability",slug:"/IBM SevOne Automated Network Observability/predictive",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/predictive",draft:!1,tags:[],version:"current",sidebarPosition:15,frontMatter:{sidebar_position:15},sidebar:"tutorialSidebar",previous:{title:"Uncover New Data Feeds",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/data feed"},next:{title:"CLI Monitoring",permalink:"/software-networking-pot/docs/IBM SevOne Automated Network Observability/lab cli"}},p={},m=[{value:"Overview",id:"overview",level:2},{value:"Predict Short Term Future Behaviour",id:"predict-short-term-future-behaviour",level:2},{value:"Create API Call",id:"create-api-call",level:2},{value:"Review",id:"review",level:2}],s={toc:m},c="wrapper";function k(e){let{components:t,...r}=e;return(0,i.kt)(c,(0,a.Z)({},s,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"predictive-alerting"},"Predictive Alerting"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"In this lab we will review how we can create proactive alerts based on anomaly detection and predictive behabiour"),(0,i.kt)("h2",{id:"predict-short-term-future-behaviour"},"Predict Short Term Future Behaviour"),(0,i.kt)("p",null,"If SevOne authentication has already been created, please skip this block of actions and continue to step 4."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Log into SANO automation platform")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Go to Authentications")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click  Create Authentication"),(0,i.kt)("p",{parentName:"li"},"a. Name: SevOne"),(0,i.kt)("p",{parentName:"li"},"b. Service: SevOne"),(0,i.kt)("p",{parentName:"li"},"c. ",(0,i.kt)("strong",{parentName:"p"},"Protocol: http://")," (<-- important)"),(0,i.kt)("p",{parentName:"li"},"d. Host: 10.0.0.10"),(0,i.kt)("p",{parentName:"li"},"e. Username: admin"),(0,i.kt)("p",{parentName:"li"},"f. Password: SevOne"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(8346).Z,width:"579",height:"758"})),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"Go to ",(0,i.kt)("strong",{parentName:"li"},"Workflows"))),(0,i.kt)("ol",{start:5},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click Create Workflow"),(0,i.kt)("p",{parentName:"li"},"a. Name: Your Name - Predictive Alerting"),(0,i.kt)("p",{parentName:"li"},"b. Layout type: Sequence"))),(0,i.kt)("ol",{start:6},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add variables to Start"),(0,i.kt)("p",{parentName:"li"},"a. NMSCredentials"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. Name: NMSCredentials\n\nii. Type: Authentication -> SevOne\n\niii. Default Value: "admin/SevOne"\n\niv. In\n\nv. Required\n')),(0,i.kt)("p",{parentName:"li"},"b. deviceid"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. Name: deviceid\n\nii. Type: Number\n\niii. Default Value: 1\n\niv. In\n\nv. Required\n")),(0,i.kt)("p",{parentName:"li"},"c. objectid"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. Name: objectid\n\nii. Type: Number\n\niii. Default Value: 1\n\niv. In\n\nv. Required\n")),(0,i.kt)("p",{parentName:"li"},"d. indicatorname"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. Name: indicatorname\n\nii. Type: String\n\niii. Default Value: availability\n\niv. In\n\nv. Required\n")),(0,i.kt)("p",{parentName:"li"},"e. seconds"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. Name: seconds\n\nii. Type: Number\n\niii. Default Value: 21600\n\niv. In\n")),(0,i.kt)("p",{parentName:"li"},"f. fvalue"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. Name: fvalue\n\nii. Type: Number\n\niii. Default Value: 0\n")),(0,i.kt)("p",{parentName:"li"},"g. backtime"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. Name: backtime\n\nii. Type: String\n\niii. Default Value: "Past 60 minutes"\n\niv. In\n')),(0,i.kt)("p",{parentName:"li"},"h. severity"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. Name: severity\n\nii. Type: Number\n\niii. Default Value: 0\n\niv. In\n")))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(6126).Z,width:"986",height:"687"})),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},"Change to Flow View")),(0,i.kt)("ol",{start:8},(0,i.kt)("li",{parentName:"ol"},"On the left hand side panel, search for SevOne, Click on SevOne -> REST v3 -> Data")),(0,i.kt)("ol",{start:9},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},'Select "Data Performance Metrics" and drop it after the tile START'),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Forecast"),(0,i.kt)("p",{parentName:"li"},"b. Click on the tile to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. authKey: $NMSCredentials\n\nii. body:\n\n    1. indicatorFilters -> Append Child\n\n        a. IndicatorTypeNames -> Append Child\n\n            i. value: $indicatorname\n\n        b. objectIds: [ $objectid ]\n\n    2. preferPercent: TRUE\n\n    3. timeRange -> timeString: $backtime\n\n    4. trendingOptions:\n\n        a. projectedTime: $seconds\n\n        b. timeRange:\n\n            i. label: $backtime\n\n            ii. timeString: $backtime\n\n        c. trendType: PROJECTED\n\n    \n")))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(8428).Z,width:"1523",height:"727"})),(0,i.kt)("p",null,"If you click on the 'square' icon next to body, you should see something like the above."),(0,i.kt)("ol",{start:10},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new tile, Common -> Assign"),(0,i.kt)("p",{parentName:"li"},"a. Change name to Future_Value"),(0,i.kt)("p",{parentName:"li"},"b. Click on the tile to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. variable: $fvalue\n\nii. value: $SevOne_Forecast.result.indicatorResults[0].polledData.trendValueA + ($seconds * $SevOne_Forecast.result.indicatorResults[0].polledData.trendValueB)\n")))),(0,i.kt)("ol",{start:11},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new tile, Common -> DateTime -> TimestampNowms"),(0,i.kt)("p",{parentName:"li"},"a. No need to edit anything"))),(0,i.kt)("ol",{start:12},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add a new tile, Common -> If"),(0,i.kt)("p",{parentName:"li"},"a. Change name to If_future_value_more_than_100"),(0,i.kt)("p",{parentName:"li"},"b. Click on the tile to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. condition: $fvalue >= 100\n")))),(0,i.kt)("ol",{start:13},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the TRUE branch of the IF, add a new tile, SevOne -> REST API v2 -> Alerts -> createAlert"),(0,i.kt)("p",{parentName:"li"},"a. Change name to SevOne_Create_Alert"),(0,i.kt)("p",{parentName:"li"},"a. Click on the tile to open the right side panel and complete the following fields"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. authKey: $NMSCredentials\n\nii. alert:\n\n    1. deviceId: $deviceid\n\n    2. endTime: $TimestampNowms_1.result\n\n    3. indicatorName: "$indicatorname"\n\n    4. message: "There is an anomaly on this device on indicator " + $indicatorname + " that might reach 100% in the next 24 hours"\n\n    5. objectId: $objectid\n\n    6. origin: system\n\n    7. severity: $severity\n\n    8. startTime: $TimestampNowms_1.result\n')))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(4363).Z,width:"1193",height:"641"})),(0,i.kt)("ol",{start:14},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"If there is an Assign tile at the end of the workflow, use that tile for the next config, if there is not, add a tile from Common -> Assign"),(0,i.kt)("p",{parentName:"li"},"a. variable: $result"),(0,i.kt)("p",{parentName:"li"},"b. value: $fvalue"))),(0,i.kt)("h2",{id:"create-api-call"},"Create API Call"),(0,i.kt)("ol",{start:15},(0,i.kt)("li",{parentName:"ol"},"Go to APIS")),(0,i.kt)("ol",{start:16},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on \u2018Create API\u2019"),(0,i.kt)("p",{parentName:"li"},"a. Name: predictive"),(0,i.kt)("p",{parentName:"li"},"b. Authentications"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. Authentication: API Keys\n\n    1. Click \u2018Add API Key\u2019\n\n    2. Name: hfpkey\n\nii. Copy the api key for later use\n")),(0,i.kt)("p",{parentName:"li"},"c. Click \u2018Create\u2019"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(5421).Z,width:"961",height:"748"})),(0,i.kt)("ol",{start:17},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In workflow deployments, click \u2018Create\u2019"),(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Workflow -> Choose the workflow you created clicking on the folder icon on the top right side of that field")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Stage - > Click on + icon -> leave everything as it is, click \u2018Save\u2019")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Endpoint -> Click on + icon "),(0,i.kt)("p",{parentName:"li"},"a. Change Path to /Predictive"),(0,i.kt)("p",{parentName:"li"},"b. Method: POST"),(0,i.kt)("p",{parentName:"li"},"c. Click \u2018Save\u2019"))))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(6439).Z,width:"1896",height:"771"})),(0,i.kt)("ol",{start:18},(0,i.kt)("li",{parentName:"ol"},"Click Deploy")),(0,i.kt)("h2",{id:"review"},"Review"),(0,i.kt)("ol",{start:19},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on Swagger UI"),(0,i.kt)("p",{parentName:"li"},"a. Click on Authorize"),(0,i.kt)("p",{parentName:"li"},"b. Paste the copied toekn (step 15.b.ii)"),(0,i.kt)("p",{parentName:"li"},"c. Click Authorize"),(0,i.kt)("p",{parentName:"li"},"d. Click Close"))),(0,i.kt)("ol",{start:20},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click Try it out"),(0,i.kt)("p",{parentName:"li"},"a. Edit the body:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'i. NMSCredentials: "admin/SevOne"\n\nii. deviceid: 1\n\niii. objectid: 1\n\niv. indicatorname: "availability"\n\nv. seconds: 21600\n\nvi. backtime: "Past 60 minutes"\n\nvii. severity: 0 \n')),(0,i.kt)("p",{parentName:"li"},"b. Click Execute"))),(0,i.kt)("ol",{start:21},(0,i.kt)("li",{parentName:"ol"},"Copy the Request URL")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(8546).Z,width:"1543",height:"895"})),(0,i.kt)("ol",{start:22},(0,i.kt)("li",{parentName:"ol"},"Go to SevOne NMS")),(0,i.kt)("ol",{start:23},(0,i.kt)("li",{parentName:"ol"},"Go to Events -> Configuration -> Webhook Definition Manager")),(0,i.kt)("ol",{start:24},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on Add Webhook Definition"),(0,i.kt)("p",{parentName:"li"},"a. Webhook Definition Name: IRNA Predictive"),(0,i.kt)("p",{parentName:"li"},"b. Destination URL: paste the Request URL copied on step 21"),(0,i.kt)("p",{parentName:"li"},"c. Request Method: POST"),(0,i.kt)("p",{parentName:"li"},"d. Body:"))),(0,i.kt)("p",null,"(Copy everything, including the brakets, but without the quotes)"),(0,i.kt)("p",null,'"'),(0,i.kt)("p",null,"{"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'"NMSCredentials": "admin/SevOne",\n\n"deviceid": $deviceId,\n\n"objectid": $objectId,\n\n"indicatorname": "$indicatorName",\n\n"seconds": 21600,\n\n"backtime": "Past 60 minutes",\n\n"severity": 0 \n')),(0,i.kt)("p",null,"}"),(0,i.kt)("p",null,'"'),(0,i.kt)("ol",{start:25},(0,i.kt)("li",{parentName:"ol"},"Click Save")),(0,i.kt)("ol",{start:26},(0,i.kt)("li",{parentName:"ol"},"Go to Events -> Configuration -> Policy Browser")),(0,i.kt)("ol",{start:27},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click Create Policy"),(0,i.kt)("p",{parentName:"li"},"a. Name: Unusual high traffic"),(0,i.kt)("p",{parentName:"li"},"b. Device group: All device groups"),(0,i.kt)("p",{parentName:"li"},"c. Object Type: Interface"),(0,i.kt)("p",{parentName:"li"},"d. Severity: Notice"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(109).Z,width:"1573",height:"535"})),(0,i.kt)("ol",{start:28},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on Trigger Conditions"),(0,i.kt)("p",{parentName:"li"},"a. Click on the menu item under Conditions -> Create New"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. Indicator: HC In Octets\n\nii. Type: Baseline Percentage\n\niii. Comparison: greater than\n\niv. Threshold: 130 percent of baseline\n\nv. Duration: 15 minutes\n\nvi. Aggregation: Average\n")),(0,i.kt)("p",{parentName:"li"},"b. Click on the menu item under Rules -> Create New\t"),(0,i.kt)("p",{parentName:"li"},"c. Click on the menu item under Conditions -> Create New"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"i. Indicator: HC Out Octets\n\nii. Type: Baseline Percentage\n\niii. Comparison: greater than\n\niv. Threshold: 130 percent of baseline\n\nv. Duration: 15 minutes\n\nvi. Aggregation: Average\n")),(0,i.kt)("p",{parentName:"li"},"d. Override Webhook per Alert: Enabled"),(0,i.kt)("p",{parentName:"li"},"e. One Webhook per Alert: disabled"),(0,i.kt)("p",{parentName:"li"},"f. Select the IRNA Predictive webhook and move it to the right side")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click 'Save as New'"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"IBM SevOne Automated Network Observability",src:n(5357).Z,width:"1785",height:"685"})))}k.isMDXComponent=!0},8346:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img1-ee5e510d0e0ff3ba9618fef58df14677.png"},6126:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img2-dba989e5cc99fb80e5df50f68ff46ee3.png"},8428:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img3-13691b5b1b89fea1803ccf1f1a914039.png"},4363:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img4-9c6a1872e109644a3478d5855ee23178.png"},5421:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img5-3a337d9fb8926d268a36b90474b0601e.png"},6439:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img6-5de165bf1cee0b28866027866bb24ae0.png"},8546:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img7-ceac90589d9f55e49bc9f74902127d61.png"},109:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img8-05f5fc186b2be0f03bf774889ef3b3cc.png"},5357:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Img9-08a00d509b62becf9a2373bc3528f117.png"}}]);